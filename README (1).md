## Долганова Елизавета 23-я когорта 
## Инженер по тестированию плюс 
## Финальный проект

## Работа с базой данных
Задание 1
Представь: тебе нужно проверить, отображается ли созданный заказ в базе данных.
Для этого: выведи список логинов курьеров с количеством их заказов в статусе «В доставке» (поле inDelivery = true).
elizabeth@MacBook-Air-Elizabeth ~ % ssh 7cda2eb5-adf5-483d-8981-4bfcb8197d22@serverhub.praktikum-services.ru -p 4554
morty@942514f860cc:~$ psql -U morty -d scooter_rent
scooter_rent=# SELECT c.login, COUNT(o.id) AS "Количество заказов" FROM "Couriers" AS c LEFT JOIN "Orders" AS o ON c.id = o."courierId" WHERE o."inDelivery" = true GROUP BY c.login;
  login  | Количество заказов 
---------+--------------------
 kurrier |                  4
(1 row)

Задание 2
Ты тестируешь статусы заказов. Нужно убедиться, что в базе данных они записываются корректно.
Для этого: выведи все трекеры заказов и их статусы. 
Статусы определяются по следующему правилу:
Если поле finished == true, то вывести статус 2.
Если поле canсelled == true, то вывести статус -1.
Если поле inDelivery == true, то вывести статус 1.
Для остальных случаев вывести 0.
scooter_rent=# SELECT track, CASE WHEN finished = true THEN 2 WHEN cancelled = true THEN -1 WHEN "inDelivery" = true THEN 1 ELSE 0 END AS Статус FROM "Orders";
 track  | Статус 
--------+--------
 231762 |      0
 401092 |      1
 401092 |      1
 307659 |      1
 307659 |      1
(5 rows)
## Автоматизация теста к API
Этот проект содержит автотесты для проверки функциональности создания и получения заказа по трек-номеру с использованием API.
Структура проекта
- configuration.py — файл с конфигурацией, содержит базовый URL API и пути для создания и получения заказа.
- data.py — файл с данными, содержит тело запроса `order_body` для создания нового заказа.
- test_order.py — основной файл с функциями и автотестом для проверки API.

1. def create_order()
   - Отправляет POST-запрос для создания заказа.
   - Проверяет, что в ответе содержится `track_id` (идентификатор заказа).
   - Возвращает `track_id` 

2. get_order(track_id)
   - Отправляет GET-запрос для получения заказа по переданному `track_id`
   - Возвращает данные заказа в формате JSON

3. def positive_assert_order_creation()
   - Основной тест, который:
     - Вызывает `create__order` для создания нового заказа и получения `track_id`.
     - Проверяет, что код 201 - заказ создан
     - Вызывает `get_order` для получения данных заказа по `track_id`
     - Проверяет, что код 200 - заказ получен

## Запуск тестов

1.  В `configuration.py` указаны правильные значения:
   - `URL_SERVICE` — базовый URL вашего API.
   - `ORDER_CREATE` — путь для создания заказа.
   - `ORDER_NUMBER` — путь для получения заказа по трек-номеру.

2. Запустите файл `test_order.py` для выполнения автотеста

Пример вывода

При успешном выполнении 

Заказ успешно создан, трек: <track_id>
Заказ успешно получен с кодом 200

Описание сценария теста

	1.	Создание нового заказа с использованием данных из order_body.
	2.	Получение заказа по track_id.
	3.	Проверка успешного получения заказа с кодом ответа 200.

Требования

	•	Python 3.x
	•	Библиотека requests

Установите необходимые библиотеки:

pip install requests
